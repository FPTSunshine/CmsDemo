<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head(pageStyles=null)}"></head>
<body class="main-background d-flex flex-column min-vh-100">

    <div th:replace="~{fragments/layout :: admin-header}"></div>

    <main class="container mt-4 flex-grow-1">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="text-white border-start border-5 border-primary ps-3">Dashboard Overview</h2>
            <span class="text-white-50">Welcome back, Admin!</span>
        </div>

        <div class="row g-4 mb-5">
            <div class="col-md-4">
                <div class="card text-white bg-primary shadow h-100 dashboard-card" id="userCard" data-bs-toggle="popover" data-bs-html="true" title="Quick User Actions">
                    <div class="card-body d-flex justify-content-between align-items-center" style="cursor: pointer;" onclick="window.location.href='/admin/users'">
                        <div>
                            <h5 class="card-title">Total Users</h5>
                            <h2 class="display-4 fw-bold" th:text="${userCount}">0</h2>
                        </div>
                        <i class="fas fa-users fa-4x opacity-50"></i>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card text-white bg-success shadow h-100 dashboard-card" id="productCard" data-bs-toggle="popover" data-bs-html="true" title="Quick Product Actions">
                    <div class="card-body d-flex justify-content-between align-items-center" style="cursor: pointer;" onclick="window.location.href='/admin/products'">
                        <div>
                            <h5 class="card-title">Total Products</h5>
                            <h2 class="display-4 fw-bold" th:text="${productCount}">0</h2>
                        </div>
                        <i class="fas fa-box-open fa-4x opacity-50"></i>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card text-white bg-warning shadow h-100 dashboard-card" onclick="window.location.href='/admin/orders'" style="cursor: pointer;">
                    <div class="card-body d-flex justify-content-between align-items-center">
                        <div>
                            <h5 class="card-title">Orders Today</h5>
                            <h2 class="display-4 fw-bold" th:text="${ordersTodayCount}">0</h2>
                        </div>
                        <i class="fas fa-shopping-cart fa-4x opacity-50"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- ... (Popover content) ... -->

        <div class="row">
            <div class="col-md-8">
                <div class="card shadow-sm content-card">
                    <div class="card-header bg-transparent fw-bold">Sales Statistics</div>
                    <div class="card-body text-center py-5 text-muted">
                        <i class="fas fa-chart-bar fa-3x mb-3"></i>
                        <p>[Chart Placeholder]</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow-sm content-card">
                    <div class="card-header bg-transparent fw-bold">Recent Activity</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item bg-transparent"><small class="text-muted">2 mins ago</small><br/>User <strong>John</strong> registered.</li>
                        <li class="list-group-item bg-transparent"><small class="text-muted">1 hour ago</small><br/>New order #1023 received.</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <div class="mt-auto" th:replace="~{fragments/layout :: footer}"></div>
    <script>
        // ... (popover script)
    </script>
</body>
</html>
